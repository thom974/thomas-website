import { useEffect } from "react"

import anime from "animejs"

import { 
    Stack,
    Typography,
    Icon,
} from "@mui/material"

const Intro = () => {
    useEffect(() => {
        const letters = document.querySelector('g.intro-name')
        const introSvg = document.querySelector('svg.intro-svg')
        introSvg.style.visibility = 'visible'
        const letterTargets = []

        for (let i=0; i<letters.children.length; i++) {
            const pathLength = letters.children[i].getTotalLength()
            letters.children[i].setAttribute('stroke-dasharray', pathLength)
            letters.children[i].setAttribute('stroke-dashoffset', pathLength)
            letterTargets.push(letters.children[i])
        }

        const nameTimeline = anime.timeline({
            direction: 'normal'
        })

        // Animate name
        nameTimeline.add({
            targets: letterTargets,
            strokeDashoffset: [anime.setDashoffset, 0],
            easing: 'easeInOutQuint',
            duration: 2500,
        })

        // Animate colours
        nameTimeline.add({
            targets: letterTargets,
            fill: '#A6BB5A',
            easing: 'easeInQuad',
            duration: 500,
        }, 2000)
    })

    return (
        <Stack
            direction='column'
            spacing={90}
            alignItems='flex-start'
        >
            <Stack
                direction='column'
                spacing={40}
                alignItems='flex-start'
            >
                {/* <Typography variant='title'>Thomas Luc</Typography> */}
                <Icon sx={{ display: 'flex', height: 'inherit', width: 'inherit'}}>
                    <svg className='intro-svg' viewBox="0 -5 284.226 37.337" height="97.99937" width="746.00047" visibility='hidden'>
                        <g className='intro-name' aria-label="Thomas Luc" fontSize='3.175px' strokeWidth='0.265' transform="translate(-6.2559 -37.19016)">
                            <path className='t' fill='#ffffff' stroke='#a7bc5b' d="M 13.981731,62.696014 V 42.446556 H 6.2558927 V 38.495443 H 26.328962 v 3.951113 h -7.761117 v 20.249458 z" />
                            <path className='h' fill='#ffffff' stroke='#a7bc5b' d="m 29.503945,62.696014 v -25.50585 h 4.303892 v 9.066395 h 0.246945 q 0.599723,-0.740834 1.411112,-1.305279 0.811389,-0.564445 1.834446,-0.881945 1.058334,-0.352778 2.328335,-0.352778 1.76389,0 3.104446,0.635001 1.375834,0.635 2.151946,2.046112 0.776112,1.411112 0.776112,3.774725 v 12.523619 h -4.33917 V 50.948507 q 0,-0.987779 -0.246945,-1.622779 -0.211666,-0.670279 -0.670278,-1.058334 -0.423333,-0.423334 -1.058334,-0.599723 -0.635,-0.176389 -1.411112,-0.176389 -1.164167,0 -2.116668,0.564445 -0.917223,0.564445 -1.481668,1.552223 -0.529167,0.987778 -0.529167,2.293057 v 10.795007 z"/>
                            <path className='o' fill='#ffffff' stroke='#a7bc5b' d="m 58.361173,63.119348 q -3.03389,0 -5.080003,-1.023056 -2.046112,-1.058334 -3.069169,-3.21028 -1.023056,-2.151946 -1.023056,-5.468059 0,-3.351392 1.023056,-5.46806 1.023057,-2.151946 3.069169,-3.175002 2.046113,-1.058334 5.080003,-1.058334 3.069169,0 5.080004,1.058334 2.046112,1.023056 3.069169,3.175002 1.023056,2.116668 1.023056,5.46806 0,3.316113 -1.023056,5.468059 -1.023057,2.151946 -3.069169,3.21028 -2.010835,1.023056 -5.080004,1.023056 z m 0,-3.52778 q 1.693335,0 2.716391,-0.635001 1.058334,-0.670278 1.516946,-1.975556 0.493889,-1.340557 0.493889,-3.316114 v -0.493889 q 0,-1.975557 -0.493889,-3.280836 -0.458612,-1.340556 -1.516946,-1.975556 -1.023056,-0.670279 -2.716391,-0.670279 -1.693334,0 -2.751668,0.670279 -1.023056,0.635 -1.516946,1.975556 -0.458611,1.305279 -0.458611,3.280836 v 0.493889 q 0,1.975557 0.458611,3.316114 0.49389,1.305278 1.516946,1.975556 1.058334,0.635001 2.751668,0.635001 z" />
                            <path className='m' fill='#ffffff' stroke='#a7bc5b' d="M 71.202275,62.696014 V 44.139891 h 3.598336 l 0.352778,2.469446 h 0.246945 q 0.599722,-0.846667 1.375834,-1.481668 0.776112,-0.670278 1.76389,-1.023056 1.023056,-0.388056 2.222502,-0.388056 1.622778,0 2.892779,0.670278 1.270001,0.670279 1.975557,2.222502 h 0.246945 q 0.599722,-0.846667 1.411112,-1.481668 0.811389,-0.670278 1.869723,-1.023056 1.058334,-0.388056 2.293057,-0.388056 1.658057,0 2.928058,0.599723 1.270001,0.599722 2.010835,1.975557 0.740834,1.375834 0.740834,3.668891 V 62.696014 H 92.827568 V 50.842673 q 0,-0.952501 -0.211667,-1.587501 -0.211667,-0.670278 -0.599723,-1.023056 -0.352778,-0.388056 -0.917223,-0.564445 -0.529167,-0.176389 -1.164167,-0.176389 -1.023056,0 -1.834446,0.564445 -0.811389,0.564445 -1.305278,1.552223 -0.458612,0.987778 -0.458612,2.293057 V 62.696014 H 82.03256 V 50.842673 q 0,-0.952501 -0.211666,-1.587501 -0.211667,-0.670278 -0.599723,-1.023056 -0.352778,-0.388056 -0.917223,-0.564445 -0.529167,-0.176389 -1.164167,-0.176389 -1.023056,0 -1.869724,0.564445 -0.811389,0.564445 -1.305278,1.552223 -0.458612,0.987778 -0.458612,2.293057 v 10.795007 z" />
                            <path className='a' fill='#ffffff' stroke='#a7bc5b' d="m 106.33897,63.119348 q -0.77611,0 -1.79917,-0.211667 -0.98778,-0.176389 -1.94028,-0.705556 -0.91722,-0.529167 -1.51694,-1.552223 -0.59973,-1.058334 -0.59973,-2.751669 0,-1.905001 0.84667,-3.139724 0.84667,-1.270001 2.36361,-1.975557 1.55223,-0.740834 3.6689,-1.023056 2.15194,-0.3175 4.69194,-0.3175 V 49.92545 q 0,-0.811389 -0.24694,-1.44639 -0.24695,-0.635 -0.91722,-0.987778 -0.635,-0.388056 -1.94028,-0.388056 -1.30528,0 -2.04612,0.3175 -0.74083,0.317501 -1.02305,0.776112 -0.28222,0.458611 -0.28222,0.952501 v 0.493889 h -4.16278 q -0.0353,-0.176389 -0.0353,-0.352778 0,-0.176389 0,-0.423334 0,-1.587501 0.9525,-2.751668 0.9525,-1.164168 2.64583,-1.76389 1.69334,-0.635001 3.91584,-0.635001 2.54,0 4.16278,0.705556 1.65806,0.705556 2.46945,2.010835 0.81139,1.305279 0.81139,3.175002 v 8.748895 q 0,0.670278 0.38805,0.9525 0.38806,0.282223 0.84667,0.282223 h 1.12889 v 2.963335 q -0.35278,0.141111 -1.02306,0.3175 -0.67028,0.211667 -1.65805,0.211667 -0.91723,0 -1.65806,-0.3175 -0.70556,-0.282222 -1.19945,-0.846667 -0.49389,-0.564445 -0.70555,-1.340557 h -0.21167 q -0.59972,0.740834 -1.44639,1.340557 -0.81139,0.564445 -1.94028,0.881945 -1.09361,0.3175 -2.54,0.3175 z m 1.30528,-3.52778 q 1.05833,0 1.86972,-0.3175 0.84667,-0.317501 1.37584,-0.881945 0.56444,-0.564445 0.84666,-1.375835 0.3175,-0.811389 0.3175,-1.76389 v -0.846667 q -1.94028,0 -3.59833,0.246945 -1.62278,0.246944 -2.61056,0.917222 -0.9525,0.670279 -0.9525,1.905002 0,0.635 0.28222,1.128889 0.3175,0.458612 0.91723,0.740834 0.635,0.246945 1.55222,0.246945 z" />
                            <path className='s' fill='#ffffff' stroke='#a7bc5b' d="m 128.42286,63.119348 q -2.01083,0 -3.52778,-0.423334 -1.51694,-0.458611 -2.54,-1.234723 -1.02305,-0.776111 -1.55222,-1.799168 -0.49389,-1.058334 -0.49389,-2.293057 0,-0.176389 0,-0.3175 0.0353,-0.141111 0.0353,-0.211667 h 4.23333 q 0,0.07056 0,0.141112 0,0.07055 0,0.141111 0.0353,0.9525 0.59973,1.552223 0.56444,0.564445 1.48166,0.811389 0.91723,0.246945 1.94028,0.246945 0.91723,0 1.72862,-0.176389 0.84666,-0.211667 1.37583,-0.635 0.56444,-0.458612 0.56444,-1.164168 0,-0.917223 -0.70555,-1.411112 -0.70556,-0.493889 -1.86972,-0.811389 -1.12889,-0.317501 -2.43417,-0.670279 -1.16417,-0.3175 -2.32834,-0.705556 -1.16417,-0.388055 -2.11667,-0.987778 -0.91722,-0.599723 -1.51694,-1.552223 -0.56445,-0.952501 -0.56445,-2.363613 0,-1.375834 0.59973,-2.39889 0.59972,-1.023057 1.65805,-1.693335 1.05834,-0.705556 2.50473,-1.058334 1.44639,-0.352778 3.13972,-0.352778 1.65806,0 2.99861,0.352778 1.37584,0.352778 2.36362,1.023056 1.02305,0.635001 1.55222,1.587501 0.56445,0.917223 0.56445,2.046113 0,0.246944 -0.0353,0.493889 0,0.246945 0,0.282222 h -4.19806 V 49.29045 q 0,-0.670278 -0.42333,-1.12889 -0.38806,-0.493889 -1.16417,-0.776111 -0.74084,-0.282223 -1.86973,-0.282223 -0.84666,0 -1.48166,0.141111 -0.635,0.141112 -1.05834,0.388056 -0.38805,0.246945 -0.59972,0.564445 -0.21167,0.3175 -0.21167,0.705556 0,0.670278 0.52917,1.058334 0.52917,0.388056 1.41111,0.670278 0.91723,0.282223 1.97556,0.599723 1.27,0.352778 2.61056,0.740834 1.34055,0.352778 2.46944,0.917223 1.16417,0.564444 1.86973,1.587501 0.70555,1.023056 0.70555,2.71639 0,1.622779 -0.635,2.786947 -0.59972,1.128889 -1.72861,1.834445 -1.09361,0.670279 -2.61056,0.987779 -1.48167,0.3175 -3.24556,0.3175 z" />
                            <path className='l' fill='#ffffff' stroke='#a7bc5b' d="M 147.71986,62.696014 V 38.495443 h 4.58611 v 20.21418 h 12.13556 v 3.986391 z"/>
                            <path className='u' fill='#ffffff' stroke='#a7bc5b' d="m 173.33153,63.119348 q -2.68111,0 -4.37445,-1.44639 -1.65805,-1.481668 -1.65805,-5.009448 V 44.139891 h 4.30389 v 11.747508 q 0,0.987778 0.21166,1.658056 0.24695,0.635001 0.67028,1.058334 0.45861,0.388056 1.09361,0.564445 0.635,0.176389 1.41112,0.176389 1.16416,0 2.08139,-0.564445 0.9525,-0.564444 1.48166,-1.552223 0.56445,-1.023056 0.56445,-2.293057 V 44.139891 h 4.30389 v 18.556123 h -3.56306 l -0.35277,-2.469446 h -0.24695 q -0.635,0.846668 -1.51694,1.516946 -0.84667,0.635 -1.97556,0.987778 -1.09361,0.388056 -2.43417,0.388056 z"/>
                            <path className='c' fill='#ffffff' stroke='#a7bc5b' d="m 195.73295,63.119348 q -2.89278,0 -4.83306,-1.023056 -1.905,-1.058334 -2.8575,-3.21028 -0.9525,-2.151946 -0.9525,-5.468059 0,-3.351392 0.9525,-5.46806 0.98777,-2.151946 2.89278,-3.175002 1.94027,-1.058334 4.79778,-1.058334 1.86972,0 3.31611,0.458612 1.44639,0.458611 2.46945,1.411112 1.05833,0.917223 1.5875,2.293057 0.52916,1.375834 0.52916,3.21028 h -4.37444 q 0,-1.305279 -0.38806,-2.151946 -0.38806,-0.846667 -1.19944,-1.270001 -0.77612,-0.458611 -2.01084,-0.458611 -1.44639,0 -2.36361,0.670278 -0.91722,0.670278 -1.37584,2.010834 -0.42333,1.305279 -0.42333,3.316114 v 0.458611 q 0,1.975557 0.42333,3.316114 0.45862,1.340556 1.41112,2.010834 0.9525,0.635001 2.50472,0.635001 1.19945,0 1.97556,-0.423334 0.81139,-0.458611 1.23472,-1.340556 0.42333,-0.881945 0.42333,-2.116668 h 4.16278 q 0,1.728612 -0.52916,3.104446 -0.52917,1.375834 -1.55223,2.328335 -1.02305,0.952501 -2.50472,1.44639 -1.44639,0.493889 -3.31611,0.493889 z" />
                        </g>
                    </svg>
                </Icon>
                <Typography variant='subheading'>Hello! I'm a Computer Engineering student studying @ Waterloo!</Typography>
            </Stack>
        </Stack>
    )
}

export default Intro